<mat-card class="card">
  <mat-card-header>
    <mat-card-subtitle>Task name:</mat-card-subtitle>
    <mat-card-title>{{ card?.cardName }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-card-subtitle>Description:</mat-card-subtitle>
    <p>{{ card?.cardDescription }}</p>
    <mat-card-subtitle>Task handler:</mat-card-subtitle>
    <p>{{ card?.taskHandler }}</p>
    <mat-divider></mat-divider>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button class="edit-task" (click)="card && toggleEditForm(card)">Edit</button>
    <div class="edit-card-form" *ngIf="showEditForm">
      <h1 mat-dialog-title class="dialog-title">Edit task</h1>
      <div mat-dialog-content class="form-container">
          <form #editForm = 'ngForm' (submit)="card && editCard(card)">
              <div class="form-group">
                  <label for="taskName">Task name:</label><br>
                  <input type="text" id="inputField" placeholder="Edit task name" name="taskName" [(ngModel)]="taskName" required><br>
              </div>
              <div class="alert" *ngIf="editForm.controls['taskName'].touched && editForm.controls['taskName'].invalid">Task name is required...</div>
              <div class="form-group">
                  <label for="description">Description:</label><br>
                  <textarea name="description" id="card-description" cols="30" rows="10" class="card-description" [(ngModel)]="description" required></textarea>
              </div>
              <div class="alert" *ngIf="editForm.controls['description'].touched && editForm.controls['description'].invalid">Task description is required...</div>
              <div class="form-group">
                  <label for="taskHandler">Task handler:</label><br>
                  <input type="text" id="inputField" name="taskHandler" placeholder="Edit task handler" [(ngModel)]="taskHandler" required><br>
              </div>
              <div class="alert" *ngIf="editForm.controls['taskHandler'].touched && editForm.controls['taskHandler'].invalid">Task handler is required...</div>
              <div class="form-group">
                <label for="cardState">Select state:</label>
                <select id="selectField" name="cardState" [(ngModel)]="cardState" required>
                  <option value="" disabled selected>Select an option</option>
                  <option value="TO_DO">To-Do</option>
                  <option value="IN_PROGRESS">In progress</option>
                  <option value="DONE">Done</option>
                </select>
              </div><br>
              <div class="form-buttons">
                <button mat-button class="submit_btn" type="submit" [disabled]="editForm.invalid">Submit</button>
                <button mat-button class="cancel_btn" (click)="cancelForm()">Cancel</button>
              </div>
          </form>
      </div>
  </div>
    <button mat-button class="delete-card" (click)="card && deleteCard(card)">Delete</button>
  </mat-card-actions>
</mat-card> 